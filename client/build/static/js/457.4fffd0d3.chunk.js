"use strict";(self.webpackChunkhome_service_provider_client=self.webpackChunkhome_service_provider_client||[]).push([[457],{67457:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(1413),a=t(29439),o=t(72791),i=t(74327),s=t(49553),c=t(62996),l=t(23707),m=t(79286),u=t(64880),d=t(74569),g=t.n(d),h=t(46848),p=(t(75115),t(80184));function f(){var e=(0,o.useState)(!1),r=(0,a.Z)(e,2),t=r[0],d=r[1],f=(0,o.useState)({name:"",description:""}),y=(0,a.Z)(f,2),Z=y[0],v=y[1],j=(0,o.useState)(),x=(0,a.Z)(j,2),C=x[0],b=x[1],k=(0,o.useState)(),w=(0,a.Z)(k,2),S=w[0],B=w[1],_=(0,u.k6)(),F=(0,o.useState)({loader:!1,error:!1,message:""}),D=(0,a.Z)(F,2),P=D[0],R=D[1];return(0,o.useEffect)((function(){P.error&&(i.Z.open({message:P.message,type:"error"}),R((0,n.Z)((0,n.Z)({},P),{},{error:!1})))}),[P.error]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{marginBottom:"2rem"},children:(0,p.jsx)("h2",{children:"Add Category"})}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("span",{style:{fontWeight:"bold"},children:" Category Image: *"}),(0,p.jsx)(s.Z,{style:{marginTop:"1rem"},accept:"image/*",showUploadList:!1,customRequest:function(e){e.file;var r=e.onSuccess;setTimeout((function(){r("ok")}),0)},listType:"picture-card",onChange:function(e,r){b(e.file.originFileObj),function(e){if(e)return new Promise((function(r,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return r(n.result)},n.onerror=function(e){return t(e)}}));new Promise((function(e,r){return r()}))}(e.file.originFileObj).then((function(e){return B(e)})).catch((function(e){return console.log(e)}))},name:"file",children:S?(0,p.jsx)("img",{src:S,alt:"avatar",style:{width:"100%"}}):(0,p.jsx)(m.Z,{})})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("span",{style:{fontWeight:"bold",marginBottom:"1rem"},children:"Category Name: *"}),(0,p.jsx)(c.Z,{value:Z.name,onChange:function(e){v((0,n.Z)((0,n.Z)({},Z),{},{name:e.target.value}))},placeholder:"Category Name"})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("span",{style:{fontWeight:"bold",marginBottom:"1rem"},children:"Category Description:"}),(0,p.jsx)(c.Z.TextArea,{value:Z.description,onChange:function(e){v((0,n.Z)((0,n.Z)({},Z),{},{description:e.target.value}))},placeholder:"Category Description"})]}),(0,p.jsx)(l.Z,{onClick:function(){return _.push("/home-services/allCategories?category=all&state=all&city=&name=")},style:{marginRight:"1rem"},children:"Cancel"}),(0,p.jsx)(l.Z,{loading:t,type:"primary",onClick:function(){if(""!==Z.name&&null!==Z.name&&Z.name&&""!==Z.name.trim())if(C){d(!0);var e=new FormData;e.append("name",Z.name),e.append("image",C),e.append("description",Z.description),g().post(h.Z.addCategory,e).then((function(e){e.data.success&&_.push("/home-services/allCategories?category=all&state=all&city=&name="),d(!1)})).catch((function(e){e.response?R({error:!0,message:e.response.data.error}):R({error:!0,message:"Server Error"}),d(!1)}))}else R((0,n.Z)((0,n.Z)({},P),{},{error:!0,message:"Please select image for category"}));else R((0,n.Z)((0,n.Z)({},P),{},{error:!0,message:"Please enter category name"}))},children:"Submit"})]})}}}]);
//# sourceMappingURL=457.4fffd0d3.chunk.js.map