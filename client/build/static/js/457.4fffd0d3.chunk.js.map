{"version":3,"file":"static/js/457.4fffd0d3.chunk.js","mappings":"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","sources":["Components/Category/addCategory.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Upload, Button, Input, notification } from \"antd\";\nimport { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport API from \"../../api\";\nimport e from \"cors\";\n\nfunction getBase64(file) {\n  if (file)\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = (error) => reject(error);\n    });\n  else new Promise((resolve, reject) => reject());\n}\nexport default function AddCategory() {\n  const [loader, setLoader] = useState(false);\n  const [fieldData, setFieldData] = useState({ name: \"\", description: \"\" });\n  const [file, setFile] = useState();\n  const [url, setUrl] = useState();\n  const history = useHistory();\n  const [state, setState] = useState({\n    loader: false,\n    error: false,\n    message: \"\",\n  });\n  const dummyRequest = ({ file, onSuccess }) => {\n    setTimeout(() => {\n      onSuccess(\"ok\");\n    }, 0);\n  };\n  const sendData = () => {\n    // console.log(\"hu ny thato\", fieldData.name);\n    if (\n      fieldData.name === \"\" ||\n      fieldData.name === null ||\n      !fieldData.name ||\n      fieldData.name.trim() === \"\"\n    ) {\n      setState({\n        ...state,\n        error: true,\n        message: \"Please enter category name\",\n      });\n      return;\n    }\n    if (!file) {\n      setState({\n        ...state,\n        error: true,\n        message: \"Please select image for category\",\n      });\n      return;\n    }\n    setLoader(true);\n    const formData = new FormData();\n    formData.append(\"name\", fieldData.name);\n    formData.append(\"image\", file);\n    formData.append(\"description\", fieldData.description);\n    axios\n      .post(API.addCategory, formData)\n      .then((res) => {\n        if (res.data.success) {\n          history.push(\n            \"/home-services/allCategories?category=all&state=all&city=&name=\"\n          );\n        }\n        setLoader(false);\n      })\n      .catch((e) => {\n        if (e.response) {\n          setState({ error: true, message: e.response.data.error });\n        } else {\n          setState({ error: true, message: \"Server Error\" });\n        }\n        setLoader(false);\n      });\n  };\n  useEffect(() => {\n    if (state.error) {\n      notification.open({\n        message: state.message,\n        type: \"error\",\n      });\n      setState({ ...state, error: false });\n    }\n  }, [state.error]);\n  return (\n    <>\n      <div style={{ marginBottom: \"2rem\" }}>\n        <h2>Add Category</h2>\n      </div>\n      <div style={{ marginBottom: \"1rem\" }}>\n        <span style={{ fontWeight: \"bold\" }}> Category Image: *</span>\n        <Upload\n          style={{ marginTop: \"1rem\" }}\n          accept=\"image/*\"\n          showUploadList={false}\n          customRequest={dummyRequest}\n          listType=\"picture-card\"\n          onChange={(e, b) => {\n            setFile(e.file.originFileObj);\n            getBase64(e.file.originFileObj)\n              .then((data) => setUrl(data))\n              .catch((e) => console.log(e));\n          }}\n          name=\"file\"\n        >\n          {url ? (\n            <img src={url} alt=\"avatar\" style={{ width: \"100%\" }} />\n          ) : (\n            <PlusOutlined />\n          )}\n        </Upload>\n      </div>\n      <div style={{ marginBottom: \"1rem\" }}>\n        <span style={{ fontWeight: \"bold\", marginBottom: \"1rem\" }}>\n          Category Name: *\n        </span>\n        {/* {file} */}\n        <Input\n          value={fieldData.name}\n          onChange={(e) => {\n            setFieldData({ ...fieldData, name: e.target.value });\n          }}\n          placeholder=\"Category Name\"\n        />\n      </div>\n      <div style={{ marginBottom: \"1rem\" }}>\n        <span style={{ fontWeight: \"bold\", marginBottom: \"1rem\" }}>\n          Category Description:\n        </span>\n        <Input.TextArea\n          value={fieldData.description}\n          onChange={(e) => {\n            setFieldData({ ...fieldData, description: e.target.value });\n          }}\n          placeholder=\"Category Description\"\n        />\n      </div>\n\n      {/* <img src=\"http://localhost:5000/v1/images/dummy\" /> */}\n      <Button\n        onClick={() =>\n          history.push(\n            \"/home-services/allCategories?category=all&state=all&city=&name=\"\n          )\n        }\n        style={{ marginRight: \"1rem\" }}\n      >\n        Cancel\n      </Button>\n      <Button loading={loader} type=\"primary\" onClick={sendData}>\n        Submit\n      </Button>\n    </>\n  );\n}\n"],"names":["AddCategory","useState","loader","setLoader","name","description","fieldData","setFieldData","file","setFile","url","setUrl","history","useHistory","error","message","state","setState","useEffect","notification","type","style","marginBottom","fontWeight","marginTop","accept","showUploadList","customRequest","onSuccess","setTimeout","listType","onChange","e","b","originFileObj","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","getBase64","then","data","catch","console","log","src","alt","width","value","target","placeholder","onClick","push","marginRight","loading","trim","formData","FormData","append","axios","API","res","success","response"],"sourceRoot":""}